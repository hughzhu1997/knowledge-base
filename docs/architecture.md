

```markdown
# 🏗 architecture.md  
**项目名称**：知识库软件（Knowledge Base System）  
**版本**：v1.0  
**日期**：2025-09-26  
**作者**：Xiaohua Zhu  

---

## 1. 系统总体架构
知识库软件采用 **前后端分离架构**，并预留 NLP 模块接口。  
```

+-----------------------+
 |      前端 (React)     |
 |  - 界面交互 UI/UX      |
 |  - 文档浏览与搜索       |
 +-----------------------+
 |
 | REST API / GraphQL
 v
 +-----------------------+
 |    后端 (Node.js)     |
 |  - Express API 服务   |
 |  - 认证 & 权限管理    |
 |  - 文档管理逻辑        |
 +-----------------------+
 |
 v
 +-----------------------+
 |   数据库 (MongoDB/    |
 |   PostgreSQL)         |
 |  - 文档存储           |
 |  - 用户/权限数据       |
 +-----------------------+
 |
 v
 +-----------------------+
 |   外部集成 & 扩展      |
 |  - GitHub 仓库联动     |
 |  - NLP 模块 (预留接口) |
 +-----------------------+

```
---

## 2. 模块划分
### 2.1 前端模块
- **框架**：React + Vite  
- **主要功能**：  
  - 登录 / 注册 / 权限验证  
  - 文档搜索与浏览  
  - 上传与编辑文档  
  - 评论与修改建议  

### 2.2 后端模块
- **框架**：Node.js + Express  
- **主要功能**：  
  - 提供 REST API  
  - 用户认证（JWT / OAuth）  
  - 文档增删改查  
  - GitHub Webhook 同步  
  - 搜索引擎服务（全文检索 / ElasticSearch 预留）  

### 2.3 数据库模块
- **候选**：  
  - MongoDB → 文档型存储，快速灵活  
  - PostgreSQL → 关系型存储，复杂查询友好  
- **存储内容**：  
  - 用户表  
  - 文档表  
  - 权限表  
  - 版本记录表  

### 2.4 NLP 模块（预留）
- **目标**：未来支持自然语言问答  
- **接口**：  
  - `/api/nlp/query` REST API  
  - 可对接 ChatGPT / Gemini 等大模型  
- **应用场景**：  
  - 用户提问 → NLP 模块检索文档 → 返回答案摘要  

---

## 3. 系统交互流程
### 3.1 文档管理
1. 用户登录系统  
2. 上传新文档或触发 GitHub 同步  
3. 后端接收请求并写入数据库  
4. 前端刷新，用户可立即查看  

### 3.2 搜索流程
1. 用户输入关键字  
2. 前端调用后端 API  
3. 后端执行数据库检索  
4. 返回匹配结果（标题 / 摘要 / 更新时间）  

---

## 4. 技术选型
| 模块       | 技术栈                          | 说明 |
|------------|---------------------------------|------|
| 前端       | React + Vite + TailwindCSS      | UI 快速开发 |
| 后端       | Node.js + Express               | 轻量 API 服务 |
| 数据库     | MongoDB / PostgreSQL            | 灵活性 + 稳定性 |
| 搜索       | 内置全文检索 / ElasticSearch    | 可扩展 |
| 认证与权限 | JWT / OAuth2                    | 安全 |
| 版本控制   | GitHub + GitHub Actions         | CI/CD 集成 |

---

## 5. 扩展性设计
- **容器化**：Docker 支持  
- **云平台**：AWS / GCP / Azure（可选）  
- **日志监控**：ELK Stack / Splunk  
- **开放接口**：  
  - NLP 模块接入  
  - 外部存储（S3、Google Drive）  

---

## 6. 附录
- `PRD.md` → 产品需求文档  
- `api-spec.md` → API 规范  
- `db-schema.md` → 数据库设计  
- `CODESTYLE.md` → 编码规范  
- `dependencies.md` → 依赖说明  

---

✅ **说明**：本架构文档为第一版，开发中会根据实际情况调整优化。  
```

------

